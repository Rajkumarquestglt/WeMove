{"version":3,"sources":["http/index.js","hoc/SetTokenHeader/SetTokenHeader.js","components/UI/Model/DeleteModel.jsx","views/VehicleOwner/Vehicles/Vehicles.jsx"],"names":["SetTokenInterval","Component","axios","props","useState","interceptors","request","use","config","configObject","headers","Authorization","localStorage","getItem","interceptor","useEffect","eject","DeleteModel","submitBtnText","submitBtnHandler","cancelBtnText","cancelBtnHandler","closeModel","from","className","tabIndex","role","style","display","type","onClick","aria-hidden","textAlign","undefined","SetTokenHeader","mounted","setMounted","setSearchFlag","tableFilter","setTableFilter","useSelector","state","ownervehicle","vehicles","allData","list","totalRecords","errorMsg","modal","open","modelDeleteOpen","setModelDeleteOpen","deleteId","setDeleteId","dispatch","useDispatch","getData","columnName","orderBy","search","skip","limit","setTableFilters","getAllVehiclesSaga","getAllOwnerVehiclesSaga","getAllServiceSaga","statusAction","data","console","log","editBlockVehicleStatusSaga","id","isBlock","status","tableFields","displayName","key","noSort","isStatus","positiveValue","action","isActions","actions","view","payload","_id","to","tableData","pageCount","count","link","linkPropsName","val","setModelOpen"],"mappings":"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","file":"static/js/70.e84918a7.chunk.js","sourcesContent":["/* eslint-disable import/prefer-default-export */\r\nimport axios from './axios/axios_main';\r\n\r\nexport { axios };\r\n","import React, { useState, useEffect } from 'react';\r\n// import { AuthenticationContext } from \"../../contexts\";\r\n\r\nfunction SetTokenInterval(Component, axios) {\r\n  function WrappedComponent(props) {\r\n    // const authContext = useContext(AuthenticationContext);\r\n    const [interceptor] = useState(\r\n      axios.interceptors.request.use(config => {\r\n        const configObject = config;\r\n        configObject.headers.Authorization = `Bearer ${localStorage.getItem(\r\n          `authToken`,\r\n        )}`;\r\n        return configObject;\r\n      }),\r\n    );\r\n    useEffect(() => {\r\n      return () => {\r\n        axios.interceptors.request.eject(interceptor);\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <>\r\n        <Component {...props} />\r\n      </>\r\n    );\r\n  }\r\n  return WrappedComponent;\r\n}\r\nexport default SetTokenInterval;\r\n","import React from 'react';\r\n\r\nconst DeleteModel = props => {\r\n  const {\r\n    submitBtnText,\r\n    submitBtnHandler,\r\n    cancelBtnText,\r\n    cancelBtnHandler,\r\n    closeModel,\r\n    from,\r\n  } = props;\r\n\r\n  return (\r\n    <div\r\n      className=\"modal coman-modal fade in\"\r\n      tabIndex=\"-1\"\r\n      role=\"dialog\"\r\n      style={{ display: 'block' }}\r\n    >\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <button type=\"button\" className=\"close\" onClick={() => closeModel()}>\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n          <h2>\r\n            {from === 'Logout'\r\n              ? 'Are you sure you want to logout?'\r\n              : 'Are you sure you want to Delete?'}\r\n          </h2>\r\n          <div className=\"clearfix\" style={{ textAlign: 'center' }}>\r\n            {cancelBtnText !== undefined &&\r\n              cancelBtnText != null &&\r\n              cancelBtnText !== '' && (\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary m-l-sm\"\r\n                  onClick={() => {\r\n                    if (typeof cancelBtnHandler === 'function') {\r\n                      cancelBtnHandler();\r\n                      closeModel();\r\n                    } else closeModel();\r\n                  }}\r\n                >\r\n                  {cancelBtnText}\r\n                </button>\r\n              )}\r\n            {submitBtnText !== undefined &&\r\n              submitBtnText != null &&\r\n              submitBtnText !== '' && (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary  m-l-sm\"\r\n                  onClick={() => {\r\n                    if (typeof submitBtnHandler === 'function') {\r\n                      submitBtnHandler();\r\n                      // closeModel();\r\n                    } else closeModel();\r\n                  }}\r\n                >\r\n                  {submitBtnText}\r\n                </button>\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"modal-backdrop fade in\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteModel;\r\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport SetTokenHeader from '../../../hoc/SetTokenHeader/SetTokenHeader';\nimport { axios } from '../../../http/index';\nimport { Table } from '../../../components';\nimport DeleteModel from '../../../components/UI/Model/DeleteModel';\n\nimport {\n  getAllVehiclesSaga,\n  getAllServiceSaga,\n  getAllOwnerVehiclesSaga,\n  editBlockVehicleStatusSaga,\n} from '../../../store/actions';\n// import AlertMessageModal from '../../../components/UI/Model/AlertMessageModal';\n\n// eslint-disable-next-line no-unused-vars\nconst Vehicles = props => {\n  const [mounted, setMounted] = useState(false);\n  // eslint-disable-next-line no-unused-vars\n  const [category, setCategory] = useState('');\n  // eslint-disable-next-line no-unused-vars\n  const [isEdit, setEditCategory] = useState(false);\n  // eslint-disable-next-line no-unused-vars\n  const [searchFlag, setSearchFlag] = useState(false);\n  const [tableFilter, setTableFilter] = useState({});\n  const {\n    vehicles: { list: allData, totalRecords },\n    // eslint-disable-next-line no-unused-vars\n    errorMsg,\n  } = useSelector(state => state.ownervehicle);\n  // eslint-disable-next-line no-unused-vars\n  const { open } = useSelector(state => state.modal);\n  const [modelDeleteOpen, setModelDeleteOpen] = useState(false);\n  const [deleteId, setDeleteId] = useState('');\n\n  const setTableFilters = (columnName, orderBy, search, skip, limit) => {\n    tableFilter.columnName = columnName;\n    tableFilter.orderBy = orderBy;\n    tableFilter.search = search;\n    tableFilter.skip = skip;\n    tableFilter.limit = limit;\n    setTableFilter(tableFilter);\n  };\n\n  const dispatch = useDispatch();\n\n  const getData = (columnName, orderBy, search, skip, limit) => {\n    setTableFilters(columnName, orderBy, search, skip, limit);\n    if (search && skip !== 0) {\n      dispatch(\n        getAllVehiclesSaga({ columnName, orderBy, search, skip: 0, limit }),\n      );\n      dispatch(\n        getAllOwnerVehiclesSaga({\n          columnName,\n          orderBy,\n          search,\n          skip: 0,\n          limit,\n        }),\n      );\n      dispatch(\n        getAllServiceSaga({ columnName, orderBy, search, skip: 0, limit }),\n      );\n    } else {\n      dispatch(\n        getAllVehiclesSaga({ columnName, orderBy, search, skip, limit }),\n      );\n      dispatch(getAllServiceSaga({ columnName, orderBy, search, skip, limit }));\n      dispatch(\n        getAllOwnerVehiclesSaga({ columnName, orderBy, search, skip, limit }),\n      );\n    }\n  };\n\n  useEffect(() => {\n    setMounted(true);\n    getData('name', 'asc', '', 0, 10);\n    return () => setMounted(false);\n  }, []);\n\n  const statusAction = data => {\n    console.log(data);\n    dispatch(editBlockVehicleStatusSaga({ id: data.id, isBlock: data.status }));\n  };\n\n  const deleteAction = payload => {\n    setModelDeleteOpen(true);\n    setDeleteId(payload._id);\n  };\n\n  // const openEditCategoryModal = data => {\n  //   setCategory(data);\n  //   setEditCategory(true);\n  //   setModelOpen(true);\n  // };\n  const tableFields = [\n    {\n      displayName: 'Vehicle ID',\n      key: 'vehicleNumber',\n    },\n    {\n      displayName: 'Name',\n      key: 'name',\n      noSort: true,\n    },\n    {\n      displayName: 'Type',\n      key: 'vehicleType',\n    },\n    {\n      displayName: 'Service Assigned',\n      key: 'serviceName',\n    },\n    {\n      displayName: 'Status',\n      key: 'isBlock',\n      noSort: true,\n      isStatus: true,\n      positiveValue: false,\n      action: statusAction,\n    },\n    // {\n    //   displayName: 'Image',\n    //   key: 'thumbnail',\n    //   isMedia: true,\n    //   mediaType: 'image',\n    //   // baseURL: `${process.env.REACT_APP_END_POINT_IMG_URL}/category/`,\n    //   noSort: true,\n    // },\n\n    // {\n    //   displayName: 'Status',\n    //   key: 'status',\n    //   isStatus: true,\n    //   positiveValue: true,\n    //   action: statusAction,\n    // },\n    {\n      displayName: 'Actions',\n      noSort: true,\n      isActions: true,\n      actions: [\n        {\n          view: <i className=\"fa fa-pencil\" aria-hidden=\"true\" />,\n          action: '/vehicle-owner/vehicles/edit-owner-vehicle',\n        },\n        {\n          view: <i className=\"fa fa-trash\" aria-hidden=\"true\" />,\n          action: deleteAction,\n        },\n      ],\n    },\n  ];\n\n  const confirmDeleteAction = () => {\n    const id = deleteId;\n    setDeleteId('');\n    console.log(id);\n    setModelDeleteOpen(false);\n  };\n\n  const linkObj = {};\n\n  const searchFlagSetter = val => {\n    if (mounted) {\n      setSearchFlag(val);\n    }\n  };\n\n  return (\n    <div className=\"wrapper wrapper-content\">\n      <div className=\"row\">\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n          <div className=\"ibox\">\n            <div className=\"ibox-content\">\n              <div className=\"box-heading\">\n                <h2>Vehicle</h2>\n              </div>\n              <div className=\"text-right  d-flex-right\">\n                <Link\n                  to=\"/vehicle-owner/vehicles/add-owner-vehicle\"\n                  className=\"btn btn-primary m-l-sm m-b-md\"\n                >\n                  Add Vehicle\n                </Link>\n                {/* <button\n                  type=\"submit\"\n                  className=\"btn btn-primary m-l-sm m-b-md\"\n                  data-toggle=\"modal\"\n                  data-target=\"#send-modal\"\n                  onClick={() => {\n                    setEditCategory(false);\n                    setModelOpen(true);\n                  }}\n                >\n                  Add Vehicle Type\n                </button> */}\n              </div>\n              <div className=\"coman-table\" id=\"owner-detail-btn\">\n                <Table\n                  headers={tableFields}\n                  tableData={allData || null}\n                  pageCount={totalRecords?.count}\n                  getData={getData}\n                  link={linkObj}\n                  linkPropsName=\"_id\"\n                  statusAction={statusAction}\n                  setSearchFlag={searchFlagSetter}\n                  errorMsg={errorMsg || 'Loading...'}\n                  // pageSizeProp={pageSize}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* {open && <AlertMessageModal />} */}\n      {modelDeleteOpen && (\n        <DeleteModel\n          setModelOpen={setModelDeleteOpen}\n          submitBtnText=\"Yes\"\n          submitBtnHandler={confirmDeleteAction}\n          cancelBtnText=\"No\"\n          closeModel={setModelDeleteOpen}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default SetTokenHeader(Vehicles, axios);\n"],"sourceRoot":""}