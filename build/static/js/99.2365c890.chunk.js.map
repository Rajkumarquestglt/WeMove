{"version":3,"sources":["views/chef/PaymentHistory/PaymentHistory.jsx"],"names":["PaymentHistory","props","useState","setMounted","monthYearError","setMonthYearError","useSelector","state","payment","paymentHistory","errorMsg","dispatch","useDispatch","getData","month","year","getPaymentHistoryChefSaga","useEffect","Date","getMonth","getFullYear","className","id","inputProps","maxDate","showMonthYearPicker","onChange","maskedValue","selectedYear","selectedMonth","currentDate","d1","d2","months","monthDiff","type","style","padding","marginRight","commission","chefPlatformFee","gst","tcs","paymentGateway","amount","marginLeft","moment","endOf","format"],"mappings":"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","file":"static/js/99.2365c890.chunk.js","sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MonthPickerInput from 'react-month-picker-input';\r\nimport moment from 'moment';\r\nimport { getPaymentHistoryChefSaga } from '../../../store/actions';\r\nimport 'react-month-picker-input/dist/react-month-picker-input.css';\r\n\r\nconst PaymentHistory = props => {\r\n  const [mounted, setMounted] = useState(false);\r\n  const [monthYearError, setMonthYearError] = useState(false);\r\n  const { paymentHistory, errorMsg } = useSelector(state => state.payment);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const getData = (month, year) => {\r\n    dispatch(getPaymentHistoryChefSaga({ month: month + 1, year }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    getData(new Date().getMonth(), new Date().getFullYear());\r\n    return () => setMounted(false);\r\n  }, []);\r\n\r\n  const monthDiff = (d1, d2) => {\r\n    let months;\r\n    months = (d2.getFullYear() - d1.getFullYear()) * 12;\r\n    months -= d1.getMonth();\r\n    months += d2.getMonth();\r\n    return months <= 0 ? 0 : months;\r\n  };\r\n\r\n  return (\r\n    <div className=\"wrapper wrapper-content\">\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n          <div className=\"ibox\">\r\n            <div className=\"ibox-content\">\r\n              <div className=\"box-heading\">\r\n                <h2>Payout History</h2>\r\n              </div>\r\n              <div className=\"row m-b-sm\">\r\n                <div className=\"col-sm-12 col-md-12 col-lg-12\">\r\n                  <h4>Select Date:</h4>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-9 col-md-9 col-lg-6\">\r\n                      <div className=\"mb-10\" id=\"data_5\">\r\n                        <MonthPickerInput\r\n                          inputProps={{ className: 'form-control' }}\r\n                          year={new Date().getFullYear()}\r\n                          month={new Date().getMonth()}\r\n                          maxDate={[11, 9999]}\r\n                          showMonthYearPicker\r\n                          onChange={(\r\n                            maskedValue,\r\n                            selectedYear,\r\n                            selectedMonth,\r\n                          ) => {\r\n                            const currentDate = new Date();\r\n                            const dateDifference = monthDiff(\r\n                              new Date(selectedYear, selectedMonth - 1, 1),\r\n                              new Date(\r\n                                currentDate.getFullYear(),\r\n                                currentDate.getMonth(),\r\n                                1,\r\n                              ),\r\n                            );\r\n                            if (dateDifference > 0) {\r\n                              setMonthYearError(false);\r\n                              getData(selectedMonth, selectedYear);\r\n                            } else {\r\n                              setMonthYearError(true);\r\n                            }\r\n                          }}\r\n                        />\r\n                        <div className=\"error-message\">\r\n                          {monthYearError &&\r\n                            'Selected month and year must be current or previous'}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {/* <div className=\"col-sm-3 col-md-3 col-lg-6 text-right\">\r\n                      <button className=\"btn btn-primary \" type=\"submit\">\r\n                        Download CSV\r\n                      </button>\r\n                    </div> */}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {paymentHistory[0] ? (\r\n                <>\r\n                  <h3>\r\n                    {`1st Cycle (01-${paymentHistory[0].month}-${paymentHistory[0].year} to\r\n                   15-${paymentHistory[0].month}-${paymentHistory[0].year})`}\r\n                  </h3>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              A\r\n                            </button>\r\n                            Commission\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[0].commission}`}</p>\r\n                          {/* <p className=\"my-name\">\r\n                            Number of Orders:\r\n                            {paymentHistory[0].orderCount}\r\n                          </p> */}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              B\r\n                            </button>\r\n                            Platform fee - Monthly\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[0].chefPlatformFee}`}</p>\r\n\r\n                          <p className=\"my-name text-right\">\r\n                            {/* <NavLink to=\"/vendors/payment-history-detail\">\r\n                          View Details\r\n                        </NavLink> */}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              C\r\n                            </button>\r\n                            GST on commission\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[0].gst}`}</p>\r\n\r\n                          {/* <p className=\"my-name\">\r\n                            Number of Orders:\r\n                            {paymentHistory[0].orderCount}\r\n                          </p> */}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row m-t-sm\">\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              D\r\n                            </button>\r\n                            TCS amount\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[0].tcs}`}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              E\r\n                            </button>\r\n                            Transaction fee\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[0].paymentGateway}`}</p>\r\n\r\n                          <p className=\"my-name text-right\">\r\n                            {/* <NavLink to=\"/vendors/payment-history-detail\">\r\n                          View Details\r\n                        </NavLink> */}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              F\r\n                            </button>\r\n                            Total payable amount\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[0].amount}`}</p>\r\n                          <p className=\"my-name text-right\">\r\n                            {/* <NavLink to=\"/vendors/payment-history-detail\">\r\n                          View Details\r\n                        </NavLink> */}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <h4 style={{ marginLeft: '15px' }}>\r\n                      Total amount for the 1st cycle is\r\n                      {` â‚¹${paymentHistory[0].amount}`}\r\n                    </h4>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className=\"error-card-div\">{errorMsg}</div>\r\n              )}\r\n              {paymentHistory[1] ? (\r\n                <>\r\n                  <h3>\r\n                    {`2nd Cycle (16-${paymentHistory[0].month}-${\r\n                      paymentHistory[0].year\r\n                    } to \r\n          ${moment([paymentHistory[0].year, paymentHistory[0].month - 1])\r\n            .endOf('month')\r\n            .format('DD')}-\r\n          ${paymentHistory[0].month}-${paymentHistory[0].year})`}\r\n                  </h3>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              A\r\n                            </button>\r\n                            Commission\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[1].commission}`}</p>\r\n                          {/* <p className=\"my-name\">\r\n                            Number of Orders:\r\n                            {paymentHistory[1].orderCount}\r\n                          </p> */}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              B\r\n                            </button>\r\n                            Platform fee - Monthly\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[1].chefPlatformFee}`}</p>\r\n\r\n                          <p className=\"my-name text-right\">\r\n                            {/* <NavLink to=\"/vendors/payment-history-detail\">\r\n                          View Details\r\n                        </NavLink> */}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              C\r\n                            </button>\r\n                            GST on commission\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[1].gst}`}</p>\r\n                          {/* <p className=\"my-name\">\r\n                            Number of Orders:\r\n                            {paymentHistory[1].orderCount}\r\n                          </p> */}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row m-t-sm\">\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              D\r\n                            </button>\r\n                            TCS amount\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[1].tcs}`}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              E\r\n                            </button>\r\n                            Transaction fee\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[1].paymentGateway}`}</p>\r\n\r\n                          <p className=\"my-name text-right\">\r\n                            {/* <NavLink to=\"/vendors/payment-history-detail\">\r\n                          View Details\r\n                        </NavLink> */}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-4\">\r\n                      <div className=\"ibox float-e-margins\">\r\n                        <div className=\"ibox-title\">\r\n                          <h5>\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn-primary btn\"\r\n                              style={{\r\n                                padding: '5px 10px',\r\n                                marginRight: '10px',\r\n                              }}\r\n                            >\r\n                              F\r\n                            </button>\r\n                            Total payable amount\r\n                          </h5>\r\n                          <p>{`â‚¹${paymentHistory[1].amount}`}</p>\r\n                          <p className=\"my-name text-right\">\r\n                            {/* <NavLink to=\"/vendors/payment-history-detail\">\r\n                          View Details\r\n                        </NavLink> */}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <h4 style={{ marginLeft: '15px' }}>\r\n                      Total amount for the 2nd cycle is\r\n                      {` â‚¹${paymentHistory[1].amount}`}\r\n                    </h4>\r\n                  </div>\r\n                </>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentHistory;\r\n"],"sourceRoot":""}