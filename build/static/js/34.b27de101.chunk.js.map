{"version":3,"sources":["http/index.js","hoc/SetTokenHeader/SetTokenHeader.js","views/admin/CMS/CMS.jsx"],"names":["SetTokenInterval","Component","axios","props","useState","interceptors","request","use","config","configObject","headers","Authorization","localStorage","getItem","interceptor","useEffect","eject","SetTokenHeader","mounted","setMounted","setSearchFlag","useSelector","state","cms","CMSs","allData","list","totalRecords","errorMsg","dispatch","useDispatch","getData","columnName","orderBy","search","skip","limit","getAllCMSSaga","tableFields","displayName","key","noSort","isActions","actions","view","className","aria-hidden","action","id","tableData","pageCount","count","linkPropsName","val","initialSortColumnName"],"mappings":"mIAAA,gD,6DC6BeA,IA1Bf,SAA0BC,EAAWC,GAwBnC,OAvBA,SAA0BC,GAAO,MAETC,mBACpBF,EAAMG,aAAaC,QAAQC,KAAI,SAAAC,GAC7B,IAAMC,EAAeD,EAIrB,OAHAC,EAAaC,QAAQC,cAArB,iBAA+CC,aAAaC,QAAb,cAGxCJ,MANJK,EAFwB,oBAiB/B,OANAC,qBAAU,WACR,OAAO,WACLb,EAAMG,aAAaC,QAAQU,MAAMF,MAElC,IAGD,oCACE,kBAACb,EAAcE,O,6GCqERc,uBApFH,SAAAd,GAAU,IAAD,EACWC,oBAAS,GADpB,mBACZc,EADY,KACHC,EADG,OAGiBf,oBAAS,GAH1B,mBAGAgB,GAHA,aAQfC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,OARZ,IAKjBC,KAAcC,EALG,EAKTC,KAAeC,EALN,EAKMA,aAEvBC,EAPiB,EAOjBA,SAGIC,EAAWC,cAEXC,EAAU,SAACC,EAAYC,EAASC,EAAQC,EAAMC,GAEhDP,EADEK,GAAmB,IAATC,EACHE,aAAc,CAAEL,aAAYC,UAASC,SAAQC,KAAM,EAAGC,UAEtDC,aAAc,CAAEL,aAAYC,UAASC,SAAQC,OAAMC,YAIhErB,qBAAU,WAGR,OAFAI,GAAW,GACXY,EAAQ,QAAS,MAAO,GAAI,EAAG,IACxB,kBAAMZ,GAAW,MACvB,IAEH,IAAMmB,EAAc,CAClB,CACEC,YAAa,QACbC,IAAK,SAEP,CACED,YAAa,UACbE,QAAQ,EACRC,WAAW,EACXC,QAAS,CACP,CACEC,KAAM,uBAAGC,UAAU,eAAeC,cAAY,SAC9CC,OAAQ,yBAEV,CACEH,KAAM,uBAAGC,UAAU,YAAYC,cAAY,SAC3CC,OAAQ,4BAYhB,OACE,yBAAKF,UAAU,2BACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,2CACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,eACb,0CAEF,yBAAKA,UAAU,cAAcG,GAAG,qBAC9B,kBAAC,IAAD,CACEtC,QAAS4B,EACTW,UAAWxB,GAAW,KACtByB,UAAS,OAAEvB,QAAF,IAAEA,OAAF,EAAEA,EAAcwB,MACzBpB,QAASA,EACTqB,cAAc,QACdhC,cAtBS,SAAAiC,GACnBnC,GACFE,EAAciC,IAqBFzB,SAAUA,GAAY,aACtB0B,sBAAsB,kBAYLpD","file":"static/js/34.b27de101.chunk.js","sourcesContent":["/* eslint-disable import/prefer-default-export */\r\nimport axios from './axios/axios_main';\r\n\r\nexport { axios };\r\n","import React, { useState, useEffect } from 'react';\r\n// import { AuthenticationContext } from \"../../contexts\";\r\n\r\nfunction SetTokenInterval(Component, axios) {\r\n  function WrappedComponent(props) {\r\n    // const authContext = useContext(AuthenticationContext);\r\n    const [interceptor] = useState(\r\n      axios.interceptors.request.use(config => {\r\n        const configObject = config;\r\n        configObject.headers.Authorization = `Bearer ${localStorage.getItem(\r\n          `authToken`,\r\n        )}`;\r\n        return configObject;\r\n      }),\r\n    );\r\n    useEffect(() => {\r\n      return () => {\r\n        axios.interceptors.request.eject(interceptor);\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <>\r\n        <Component {...props} />\r\n      </>\r\n    );\r\n  }\r\n  return WrappedComponent;\r\n}\r\nexport default SetTokenInterval;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Table } from '../../../components';\r\nimport { axios } from '../../../http';\r\nimport SetTokenHeader from '../../../hoc/SetTokenHeader/SetTokenHeader';\r\nimport { getAllCMSSaga } from '../../../store/actions';\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst CMS = props => {\r\n  const [mounted, setMounted] = useState(false);\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [searchFlag, setSearchFlag] = useState(false);\r\n  const {\r\n    CMSs: { list: allData, totalRecords },\r\n    // eslint-disable-next-line no-unused-vars\r\n    errorMsg,\r\n  } = useSelector(state => state.cms);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const getData = (columnName, orderBy, search, skip, limit) => {\r\n    if (search && skip !== 0) {\r\n      dispatch(getAllCMSSaga({ columnName, orderBy, search, skip: 0, limit }));\r\n    } else {\r\n      dispatch(getAllCMSSaga({ columnName, orderBy, search, skip, limit }));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    getData('title', 'asc', '', 0, 10);\r\n    return () => setMounted(false);\r\n  }, []);\r\n\r\n  const tableFields = [\r\n    {\r\n      displayName: 'Title',\r\n      key: 'title',\r\n    },\r\n    {\r\n      displayName: 'Actions',\r\n      noSort: true,\r\n      isActions: true,\r\n      actions: [\r\n        {\r\n          view: <i className=\"fa fa-pencil\" aria-hidden=\"true\" />,\r\n          action: '/vendors/cms/edit-cms',\r\n        },\r\n        {\r\n          view: <i className=\"fa fa-eye\" aria-hidden=\"true\" />,\r\n          action: '/vendors/cms/view-cms',\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const searchFlagSetter = val => {\r\n    if (mounted) {\r\n      setSearchFlag(val);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"wrapper wrapper-content\">\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n          <div className=\"ibox\">\r\n            <div className=\"ibox-content\">\r\n              <div className=\"box-heading\">\r\n                <h2>CMS Pages</h2>\r\n              </div>\r\n              <div className=\"coman-table\" id=\"owner-detail-btn2\">\r\n                <Table\r\n                  headers={tableFields}\r\n                  tableData={allData || null}\r\n                  pageCount={totalRecords?.count}\r\n                  getData={getData}\r\n                  linkPropsName=\"title\"\r\n                  setSearchFlag={searchFlagSetter}\r\n                  errorMsg={errorMsg || 'Loading...'}\r\n                  initialSortColumnName=\"title\"\r\n                  // pageSizeProp={pageSize}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SetTokenHeader(CMS, axios);\r\n"],"sourceRoot":""}