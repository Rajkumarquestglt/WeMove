(this["webpackJsonpwetaxi-market-place"]=this["webpackJsonpwetaxi-market-place"]||[]).push([[37],{279:function(e,a,t){"use strict";var r=t(6);t.d(a,"a",(function(){return r.a}))},280:function(e,a,t){"use strict";var r=t(17),n=t(5),o=t.n(n);a.a=function(e,a){return function(t){var l=Object(n.useState)(a.interceptors.request.use((function(e){var a=e;return a.headers.Authorization="Bearer ".concat(localStorage.getItem("authToken")),a}))),c=Object(r.a)(l,1)[0];return Object(n.useEffect)((function(){return function(){a.interceptors.request.eject(c)}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(e,t))}}},893:function(e,a,t){"use strict";t.r(a);var r=t(3),n=t(17),o=t(5),l=t.n(o),c=t(37),s=t(408),m=t.n(s),i=t(45),u=t.n(i),d=t(94),p=t(279),y=t(280),v=(t(354),t(1));a.default=Object(y.a)((function(e){var a=Object(o.useState)(!1),t=Object(n.a)(a,2),s=t[0],i=t[1],p=Object(o.useState)("daily"),y=Object(n.a)(p,2),N=y[0],f=y[1],g=Object(o.useState)("male-female"),b=Object(n.a)(g,2),E=b[0],k=b[1],O=Object(o.useState)(!1),h=Object(n.a)(O,2),j=h[0],D=h[1],C=Object(o.useState)(null),S=Object(n.a)(C,2),M=S[0],T=S[1],w=Object(o.useState)("Male/ Female ratio of the users & vendors"),x=Object(n.a)(w,2),V=x[0],A=x[1],z=Object(o.useState)({startDate:u()().startOf("month").format("yyyy-MM-DD"),endDate:u()().endOf("month").format("yyyy-MM-DD")}),R=Object(n.a)(z,2),F=R[0],U=R[1],G=Object(o.useState)(!1),P=Object(n.a)(G,2),B=(P[0],P[1]),q=Object(c.c)((function(e){return e.reports})),J=q.reports,_=J.list,I=J.totalRecords,L=q.errorMsg,W=Object(o.useCallback)((function(){return D(!j)})),H=Object(o.useState)([{displayName:"Gender",key:"type",noSort:!0,isCapitalize:!0},{displayName:"Total users",key:"value",noSort:!0}]),K=Object(n.a)(H,2),Q=K[0],X=K[1],Y=Object(c.b)(),Z=function(e,a,t,r,n){Y(t&&0!==r?Object(v.xk)({filterSearch:F,columnName:e,orderBy:a,search:t,reportType:E,durationType:N,skip:0,limit:n}):Object(v.xk)({filterSearch:F,columnName:e,orderBy:a,search:t,reportType:E,durationType:N,skip:r,limit:n}))};Object(o.useEffect)((function(){return i(!0),Z("name","asc","",E,0),function(){return i(!1)}}),[]);var $=function(e,a){var t=Object(r.a)({},F);t[a]=e,U(t)};return l.a.createElement("div",{className:"wrapper wrapper-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"ibox"},l.a.createElement("div",{className:"ibox-content"},l.a.createElement("div",{className:"box-heading"},l.a.createElement("h2",null,"Reports ")),l.a.createElement("div",{className:"row m-b-sm"},l.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-3"},l.a.createElement("h4",null,"Report type:"),l.a.createElement("select",{className:"form-control",onChange:function(e){return k(e.target.value)}},l.a.createElement("option",{value:"male-female"},"Male/ Female ratio of the users & vendors"),l.a.createElement("option",{value:"demo-graphics"},"Demographics"),l.a.createElement("option",{value:"deliveryzones"},"Delivery zones"),l.a.createElement("option",{value:"chefs-restaurants"},"Vendor orders placed"),l.a.createElement("option",{value:"revenue-generation"},"Vendor wise Revenue Generation"),l.a.createElement("option",{value:"average-spanding-capacity-user"},"Average spending capacity of user"),l.a.createElement("option",{value:"promocode-usage"},"Promocode Usage"),l.a.createElement("option",{value:"most-food-category-order"},"Most food category ordered"))),l.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-3"},l.a.createElement("h4",null,"Duration type:"),l.a.createElement("select",{className:"form-control",value:N,onChange:function(e){return f(e.target.value)}},l.a.createElement("option",{value:"daily"},"Daily"),l.a.createElement("option",{value:"weekly"},"Weekly"),l.a.createElement("option",{value:"monthly"},"Monthly"),l.a.createElement("option",{value:"all"},"All"),l.a.createElement("option",{value:"custom"},"Custom"))),l.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-6"},l.a.createElement("h4",{style:"custom"===N?{}:{opacity:0}},"Select Date:"),l.a.createElement("div",{className:"row"},"custom"===N&&l.a.createElement("div",{className:"col-sm-9 col-md-9 col-lg-9"},j?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-backdrop fade in date-backdrop",onClick:function(){W()}}),l.a.createElement(m.a,{initialRange:(u()(),u()().add(2,"days")),maximumDate:u()(),value:M,onSelect:function(e){T(e),$(e.start.format("yyyy-MM-DD"),"startDate"),$(e.end.format("yyyy-MM-DD"),"endDate"),W()}})):"",l.a.createElement("div",{className:"mb-10",id:"data_5"},l.a.createElement("div",{className:"input-daterange input-group",id:"datepicker"},l.a.createElement("span",{className:"input-group-addon"},l.a.createElement("i",{className:"fa fa-calendar"})),l.a.createElement("input",{type:"text",className:"input-sm form-control",name:"start",value:M&&null!=M.start&&M.start.format("DD/MM/yyyy")||"",onClick:function(e){W(),e.target.blur()}}),l.a.createElement("span",{className:"input-group-addon bor-left"},"to"),l.a.createElement("span",{className:"input-group-addon"},l.a.createElement("i",{className:"fa fa-calendar"})),l.a.createElement("input",{type:"text",className:"input-sm form-control",name:"end",value:M&&null!=M.end&&M.end.format("DD/MM/yyyy")||"",onClick:function(e){W(),e.target.blur()}})))),l.a.createElement("div",{className:"col-sm-3 col-md-3 col-lg-3"},l.a.createElement("button",{className:"btn btn-primary with-100",type:"submit",onClick:function(){!function(){var e=E;Y(Object(v.Ml)()),"demo-graphics"===e?(A("Demographics"),X([{displayName:"Area Name",key:"areaName"},{displayName:"Total Users",key:"totalUsers"}])):"deliveryzones"===e?(A("Delivery zones"),X([{displayName:"Area Name",key:"areaName"},{displayName:"Total Order",key:"totalOrders"}])):"chefs-restaurants"===e?(A("Vendor orders placed"),X([{displayName:"Vendor",key:"restaurantName"},{displayName:"Total Order",key:"count"}])):"revenue-generation"===e?(A("Vendor wise Revenue Generation"),X([{displayName:"Vendor",key:"restaurantName"},{displayName:"Total Order",key:"count"},{displayName:"Revenue",key:"revenue"}])):"average-spanding-capacity-user"===e?(A("Average spending capacity of user"),X([{displayName:"Date",key:"date",isDate:!0},{displayName:"Total User",key:"userCount"},{displayName:"Total Order",key:"orderCount"},{displayName:"Grand Total Count",key:"grandTotalCount"},{displayName:"Avg Capacity",key:"avgCapacity"}])):"promocode-usage"===e?(A("Promocode Usage"),X([{displayName:"Promocode",key:"promocode"},{displayName:"Usage Count",key:"count"}])):"most-food-category-order"===e?(A("Most food category ordered"),X([{displayName:"Vendor",key:"restaurantName"},{displayName:"Caterogy",key:"category"},{displayName:"Total Order",key:"count"}])):(A("Male/ Female ratio of the users & vendors"),X([{displayName:"Gender",key:"type",noSort:!0,isCapitalize:!0},{displayName:"Total users",key:"value",noSort:!0}])),Z("","asc","",E,0)}()}},"Apply"))))),l.a.createElement("div",{className:"box-heading"},l.a.createElement("div",{className:"row margin-b-15"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h2",null,V)),l.a.createElement("div",{className:"col-lg-6 text-right"},l.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:function(){Y(Object(v.xk)({reportType:E,durationType:N,isCSV:!0}))}},"Export to CSV")))),l.a.createElement("div",{className:"coman-table",id:"owner-detail-btn"},l.a.createElement(d.b,{headers:Q,tableData:_||null,pageCount:null===I||void 0===I?void 0:I.count,getData:Z,linkPropsName:"_id",setSearchFlag:function(e){s&&B(e)},errorMsg:L||"Loading..."})))))))}),p.a)}}]);
//# sourceMappingURL=37.3b2e4390.chunk.js.map