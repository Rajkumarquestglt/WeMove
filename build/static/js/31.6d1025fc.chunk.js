(this["webpackJsonpwetaxi-market-place"]=this["webpackJsonpwetaxi-market-place"]||[]).push([[31],{279:function(e,t,a){"use strict";var n=a(6);a.d(t,"a",(function(){return n.a}))},280:function(e,t,a){"use strict";var n=a(17),r=a(5),l=a.n(r);t.a=function(e,t){return function(a){var c=Object(r.useState)(t.interceptors.request.use((function(e){var t=e;return t.headers.Authorization="Bearer ".concat(localStorage.getItem("authToken")),t}))),i=Object(n.a)(c,1)[0];return Object(r.useEffect)((function(){return function(){t.interceptors.request.eject(i)}}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(e,a))}}},281:function(e,t,a){"use strict";a.d(t,"jb",(function(){return n})),a.d(t,"m",(function(){return r})),a.d(t,"f",(function(){return l})),a.d(t,"eb",(function(){return c})),a.d(t,"X",(function(){return i})),a.d(t,"N",(function(){return s})),a.d(t,"sb",(function(){return o})),a.d(t,"Y",(function(){return u})),a.d(t,"M",(function(){return m})),a.d(t,"n",(function(){return d})),a.d(t,"h",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"rb",(function(){return E})),a.d(t,"z",(function(){return p})),a.d(t,"F",(function(){return N})),a.d(t,"w",(function(){return g})),a.d(t,"A",(function(){return v})),a.d(t,"x",(function(){return y})),a.d(t,"d",(function(){return O})),a.d(t,"cb",(function(){return h})),a.d(t,"db",(function(){return j})),a.d(t,"kb",(function(){return k})),a.d(t,"K",(function(){return q})),a.d(t,"J",(function(){return C})),a.d(t,"H",(function(){return P})),a.d(t,"G",(function(){return S})),a.d(t,"p",(function(){return w})),a.d(t,"r",(function(){return x})),a.d(t,"q",(function(){return D})),a.d(t,"qb",(function(){return M})),a.d(t,"nb",(function(){return T})),a.d(t,"pb",(function(){return I})),a.d(t,"B",(function(){return R})),a.d(t,"V",(function(){return A})),a.d(t,"W",(function(){return F})),a.d(t,"s",(function(){return B})),a.d(t,"t",(function(){return _})),a.d(t,"O",(function(){return V})),a.d(t,"P",(function(){return L})),a.d(t,"Q",(function(){return U})),a.d(t,"R",(function(){return H})),a.d(t,"k",(function(){return Y})),a.d(t,"vb",(function(){return G})),a.d(t,"ab",(function(){return W})),a.d(t,"j",(function(){return z})),a.d(t,"ub",(function(){return J})),a.d(t,"Z",(function(){return X})),a.d(t,"wb",(function(){return Q})),a.d(t,"v",(function(){return K})),a.d(t,"I",(function(){return Z})),a.d(t,"mb",(function(){return $})),a.d(t,"ob",(function(){return ee})),a.d(t,"ib",(function(){return te})),a.d(t,"hb",(function(){return ae})),a.d(t,"L",(function(){return ne})),a.d(t,"c",(function(){return re})),a.d(t,"b",(function(){return le})),a.d(t,"a",(function(){return ce})),a.d(t,"D",(function(){return ie})),a.d(t,"lb",(function(){return se})),a.d(t,"bb",(function(){return oe})),a.d(t,"S",(function(){return ue})),a.d(t,"C",(function(){return me})),a.d(t,"E",(function(){return de})),a.d(t,"e",(function(){return be})),a.d(t,"l",(function(){return fe})),a.d(t,"tb",(function(){return Ee})),a.d(t,"o",(function(){return pe})),a.d(t,"fb",(function(){return Ne})),a.d(t,"gb",(function(){return ge})),a.d(t,"y",(function(){return ve})),a.d(t,"u",(function(){return ye})),a.d(t,"T",(function(){return Oe})),a.d(t,"U",(function(){return he})),a.d(t,"xb",(function(){return je})),a.d(t,"i",(function(){return ke}));var n="Please enter reason for rejection",r="Commission is required",l="Category name is required",c="Photo is required",i="Password is required",s="Old password is required",o="Password must contain atleast 8 digits",u="Password must contain atleast 1 capital, 1 number and 1 special character.",m="New password is required",d="Confirm password is required",b="Password & confirm password don\u2019t match",f="New password & confirm password don\u2019t match",E="Password and Confirm password doesn't match",p="Firstname is required",N="Lastname is required",g="Email is required",v="Gender is required",y="Email must be a valid email",O="Address is required",h="Phone is required",j="Phone is required and must contains 10 digits",k="Vendor contact must contains 10 digits",q="Minimum cart value is required",C="Minimum cart value must be a number",P="Maximum discount required",S="Maximum discount must be a number",w="Coupon Code is required",x="Percentage is required",D="Percentage must be a number",M="Please select vendors",T="Please select a date range for the promocode",I="Select image file only",R="GST is required",A="Packaging charges must be a number",F="Packaging charges is required",B="Delivery charge km must be a number",_="Delivery charge km is required",V="Order accept time must be a number",L="Order accept time is required",U="Order preparing time must be a number",H="Order preparing time is required",Y="Vendor platform fee is required",G="TCS is required",W="Payment gateway transaction percentage is required",z="Vendor platform fee must be a number",J="TCS must be a number",X="Payment gateway transaction percentage must be a number",Q="Title is required",K="Device type is required",Z="Message is required",$="Please select category",ee="Please select sub category type",te="Price is required",ae="Price must be a number",ne="Name is required",re="Account number is required",le="Account number must be a number",ce="Account Holder is required",ie="IFSC code is required",se="Vendor Name is required",oe="Payment Options is required",ue="Order type is required",me="House number is required",de="Landmark is required",be="Area is required",fe="City is required",Ee="State is required",pe="Country is required",Ne="Pincode is required",ge="Pincode must contains 6 digits",ve="Please enter message",ye="Description is required",Oe="Please insert OTP",he="OTP must contains 6 digits",je="Transaction id is required",ke="Vendor has not submit his/her profile yet."},282:function(e,t,a){"use strict";var n=a(5),r=a.n(n),l=a(44),c=a(37),i=a(1);t.a=function(e){var t=Object(c.c)((function(e){return e.modal})),a=t.message,n=t.notifyType,s=t.redirectURL,o=t.buttonClick,u=t.withButton,m=Object(c.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-backdrop fade in error-modal-backdrop"}),r.a.createElement("div",{className:"modal coman-modal fade in error-modal",id:"add-cat",tabIndex:-1,role:"dialog","aria-labelledby":"myModalLabel",style:{display:"block",zIndex:2052}},r.a.createElement("div",{className:"modal-dialog modal-a",role:"document"},r.a.createElement("div",{className:2===n||0===n?"modal-content text-center animated bounceIn":"modal-content text-center animated shake"}," ",r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"f-modal-alert"},1===n?r.a.createElement("div",{className:"f-modal-icon f-modal-error animate"},r.a.createElement("span",{className:"f-modal-x-mark"},r.a.createElement("span",{className:"f-modal-line f-modal-left animateXLeft"}),r.a.createElement("span",{className:"f-modal-line f-modal-right animateXRight"})),r.a.createElement("div",{className:"f-modal-placeholder"}),r.a.createElement("div",{className:"f-modal-fix"})):2===n?r.a.createElement("div",{className:"f-modal-icon f-modal-success animate"},r.a.createElement("span",{className:"f-modal-line f-modal-tip animateSuccessTip"}),r.a.createElement("span",{className:"f-modal-line f-modal-long animateSuccessLong"}),r.a.createElement("div",{className:"f-modal-placeholder"}),r.a.createElement("div",{className:"f-modal-fix"})):3===n?r.a.createElement("div",{className:"f-modal-icon f-modal-warning animate"},r.a.createElement("span",{className:"f-modal-body pulseWarningIns"}),r.a.createElement("span",{className:"f-modal-dot pulseWarningIns"}),r.a.createElement("div",{className:"f-modal-placeholder"}),r.a.createElement("div",{className:"f-modal-fix"})):null),r.a.createElement("p",{style:0===n?{paddingTop:"20px"}:{}},a),u&&r.a.createElement("div",{className:"text-center m-t-md"},void 0!==s&&""!==s?r.a.createElement(l.b,{className:"btn btn-primary",to:s,onClick:o?function(e){m(Object(i.Sk)()),e.stopPropagation(),o()}:function(e){m(Object(i.Sk)()),e.stopPropagation()}},"Okay"):r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:o?function(e){m(Object(i.Sk)()),e.stopPropagation(),o()}:function(e){m(Object(i.Sk)()),e.stopPropagation()}},"Okay")))))))}},285:function(e,t,a){"use strict";var n=a(5),r=a.n(n);t.a=function(e){var t=e.headerTitle,a=e.children,n=e.submitBtnText,l=e.submitBtnHandler,c=e.cancelBtnText,i=e.cancelBtnHandler,s=e.closeModel,o=e.modalId,u=e.modalClass,m=e.errorMsg,d=e.isDisable;return r.a.createElement("div",{className:"modal coman-modal fade in",tabIndex:"-1",id:o||"",role:"dialog",style:{display:"block"}},r.a.createElement("div",{className:"modal-dialog ".concat(u||"modal-sm text-center"),role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("button",{type:"button",className:"close",disabled:d,onClick:s},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),(void 0!==t||null!=t||""!==t)&&r.a.createElement("h2",null,t),a,r.a.createElement("div",{className:"error-message"},m),r.a.createElement("div",{className:"text-center"},void 0!==n&&null!=n&&""!==n&&r.a.createElement("button",{type:"button",disabled:d,className:"btn btn-primary  m-l-sm",onClick:function(){"function"===typeof l?l():s()}},n),void 0!==c&&null!=c&&""!==c&&r.a.createElement("button",{type:"submit",disabled:d,className:"btn btn-primary m-l-sm",onClick:function(){"function"===typeof i&&i(),s()}},"Cancel")))),r.a.createElement("div",{className:"modal-backdrop fade in"}))}},932:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(5),l=a.n(r),c=a(13),i=a(37),s=a(45),o=a.n(s),u=a(285),m=a(1),d=a(3),b=a(286),f=a(287),E=a(281),p=function(e){var t=e.tableFilter,a=e.isRejectedId,n=e.closeModel,r=function(){(0,e.setModelOpenReject)(!1)},c=Object(i.c)((function(e){return e.order})).errorMsg,s=Object(i.b)(),o=b.object({reason:b.string().trim().required(E.jb)});return l.a.createElement(f.a,{initialValues:{reason:""},validationSchema:o,onSubmit:function(e,l){var c=l.setSubmitting;!function(e){s(Object(m.yf)(Object(d.a)(Object(d.a)({},e),{},{isRejectedId:a,tableFilter:t,closeModel:n,closeModelReject:r})))}(e),c(!1)}},(function(e){var t=e.values,a=e.errors,n=e.touched,i=e.handleChange,s=e.handleBlur,o=e.handleSubmit;return l.a.createElement(u.a,{closeModel:r,modalId:"modal-delete",headerTitle:"Are you sure you want to Reject?"},l.a.createElement("form",{onSubmit:o},l.a.createElement("div",{className:"from-group text-left"},l.a.createElement("textarea",{className:"form-control",name:"reason",placeholder:"Enter Reason Here",value:t.reason,onChange:i,onBlur:s}),l.a.createElement("div",{className:"error-message"},a.reason&&n.reason&&a.reason)),l.a.createElement("div",{className:"error-message"},c),l.a.createElement("div",{className:"clearfix m-t-md"},l.a.createElement("button",{type:"button",className:"btn btn-default m-r-sm","data-dismiss":"modal",onClick:r},"No"),l.a.createElement("button",{type:"submit",className:"btn btn-primary","data-toggle":"modal","data-dismiss":"modal","data-target":"#modal-successb"},"Yes"))))}))},N=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),c=a[0],s=a[1],d=e.orderData,b=e.tableFilter,f=Object(r.useState)(d.cookingInstructionsByAdmin),E=Object(n.a)(f,1)[0],N=Object(r.useState)(60*Math.floor(d.dateDiffMin)+60*Math.ceil(100*(d.dateDiffMin-Math.floor(d.dateDiffMin)))/100-e.time),g=Object(n.a)(N,2),v=g[0],y=g[1],O=[],h=Object(i.c)((function(e){return e.order})).errorMsg;b.isUpComing=!0,Object(r.useEffect)((function(){setTimeout((function(){y(v-1)}),1e3)}),[]),Object(r.useEffect)((function(){v>0&&setTimeout((function(){y(v-1)}),1e3)}),[v]);var j=Object(i.b)(),k=function(){(0,e.setModelOpen)(!1)},q=function(e,t){if(e){var a=e.apartment,n=e.area,r=e.city,l=e.houseNo,c=e.landmark,i=e.pincode,s=e.street;l&&t.push(l),a&&t.push(a),c&&t.push(c),n&&t.push(n),r&&t.push(r),s&&t.push(s),i&&t.push(i)}};return q(d.restaurantAddress,[]),q(d.orderDeliverAddress,O),l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{closeModel:k,headerTitle:"Order Details",modalId:"printpreview",modalClass:"modal-small"},l.a.createElement("div",{className:"printview-order",id:"printableArea"},l.a.createElement("div",{className:"printview-order-inner"},l.a.createElement("h3",{className:"sub_title"},"Customer Details"),l.a.createElement("table",{className:"table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Full Name :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,d.userData.name)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Mobile :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,d.userData.phone)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Address :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,O.join(", ")))))))),l.a.createElement("div",{className:"printview-order-inner order_details order-details-color"},l.a.createElement("h3",{className:"sub_title"},"Order Details"),l.a.createElement("table",{className:"table "},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Order ID :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,d.orderNumber)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Order Date :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,o()(d.createdAt).format("DD/MM/YYYY hh:mm A "))))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Order Type :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,d.isSelfPickUp?"PickUp":"Delivery")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Payment Option :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,d.isCODOrder?"COD":"Online")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Payment Status :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,d.paymentStatus)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Customer Comments :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,d.cookingInstructions||"-")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"Admin Comments :")),l.a.createElement("td",null,l.a.createElement("b",null,l.a.createElement("p",null,E||"-"))))))),l.a.createElement("div",{className:"overallTable table-responsive "},l.a.createElement("table",{className:"table table-striped table-bordered",id:"order-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"S.No."),l.a.createElement("th",null,"Item Name"),l.a.createElement("th",null,"Qty"),l.a.createElement("th",null,"Price (INR)"),l.a.createElement("th",null,"Variety - Price (INR)"))),l.a.createElement("tbody",null,d.dishList.map((function(e,t){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",{className:"s_no"},t+1),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.quantity),l.a.createElement("td",null,e.price.toFixed(2)),l.a.createElement("td",{className:"ing"},l.a.createElement("ul",{className:"tbl_view"},l.a.createElement("li",null,l.a.createElement("span",{className:"td lbl"},"INR ".concat((e.quantity*e.price).toFixed(2)))))))})),l.a.createElement("tr",{className:"total_box"},l.a.createElement("td",{colSpan:4}),l.a.createElement("td",null,l.a.createElement("ul",{className:"tbl_view"},l.a.createElement("li",null,l.a.createElement("span",{className:"td"},"Subtotal"),l.a.createElement("span",{className:"td lbl"},"INR ".concat(d.total))),l.a.createElement("li",null,l.a.createElement("span",{className:"td"},"Discount "),l.a.createElement("span",{className:"td lbl"},"INR ".concat(d.discount))),l.a.createElement("li",null,l.a.createElement("span",{className:"td"},"Rider Tip"),l.a.createElement("span",{className:"td lbl"},"INR ".concat(d.riderTip))),l.a.createElement("li",null,l.a.createElement("span",{className:"td"},"Tax (".concat(d.GST,"%)")),l.a.createElement("span",{className:"td lbl"},"INR ".concat(d.taxCharge))),l.a.createElement("li",null,l.a.createElement("span",{className:"td"},"Delivery Fee"),l.a.createElement("span",{className:"td lbl"},"INR ".concat(d.deliveryCharge))),l.a.createElement("li",null,l.a.createElement("span",{className:"td"},"Packaging Fee"),l.a.createElement("span",{className:"td lbl"},"INR ".concat(d.packagingCharge))),l.a.createElement("li",null,l.a.createElement("span",{className:"td"},"Total"),l.a.createElement("span",{className:"td lbl"},"INR ".concat(d.grandTotal," ")))))))))),l.a.createElement("div",{className:"error-message"},h),v<=0?l.a.createElement("div",{style:{fontWeight:"bold",color:"#ed5565"}},"This order is no longer to available for accepting."):l.a.createElement("div",{className:"clearfix"},l.a.createElement("button",{type:"submit",style:{width:"100px",borderRadius:"0"},className:"btn btn-primary m-r-sm","data-toggle":"modal","data-dismiss":"modal","data-target":"#modal-accept",onClick:function(){return j(Object(m.Fc)({id:d._id,tableFilter:b,closeModel:k}))}},"Accept"),l.a.createElement("button",{type:"submit",style:{width:"100px"},className:"btn btn-danger","data-toggle":"modal","data-target":"#modal-reject","data-dismiss":"modal",onClick:function(){s(!0)}},"Reject"))),c&&l.a.createElement(p,{setModelOpenReject:s,closeModel:k,tableFilter:b,isRejectedId:d._id}))},g=a(280),v=a(279),y=a(94),O=a(282);t.default=Object(g.a)(Object(c.h)((function(e){var t=e.match.params.id,a=Object(r.useState)(!1),s=Object(n.a)(a,2),o=s[0],u=s[1],d=Object(r.useState)(!1),b=Object(n.a)(d,2),f=b[0],E=b[1],p=Object(r.useState)(0),g=Object(n.a)(p,2),v=g[0],h=g[1],j=Object(r.useState)(5),k=Object(n.a)(j,2),q=k[0],C=k[1],P=Object(r.useState)(null),S=Object(n.a)(P,2),w=S[0],x=S[1],D=Object(r.useState)(!1),M=Object(n.a)(D,2),T=(M[0],M[1]),I=Object(r.useState)({}),R=Object(n.a)(I,2),A=R[0],F=R[1],B=Object(i.c)((function(e){return e.order})),_=B.orders,V=_.list,L=_.totalRecords,U=B.order,H=B.errorMsg,Y=Object(i.c)((function(e){return e.modal})).open,G=Object(i.b)(),W=Object(c.g)(),z=function(e,t,a,n,r){!function(e,t,a,n,r){A.columnName=e,A.orderBy=t,A.search=a,A.skip=n,A.limit=r,F(A)}(e,t,a,n,r),G(a&&0!==n?Object(m.th)({columnName:e,orderBy:t,search:a,skip:0,limit:r,isUpComing:!0}):Object(m.th)({columnName:e,orderBy:t,search:a,skip:n,limit:r,isUpComing:!0}))};Object(r.useEffect)((function(){return E(!0),z("createdAt","asc","",0,10),function(){G(Object(m.Al)()),E(!1)}}),[]),Object(r.useEffect)((function(){setTimeout((function(){h(v+1)}),1e3)}),[v]),Object(r.useEffect)((function(){if(f&&t){var e=V.filter((function(e){return e._id===t}));e.length?(x(e[0]),u(!0)):G(Object(m.Pj)({id:t}))}}),[t,V]),Object(r.useEffect)((function(){f&&t&&(U._id?(x(U),u(!0)):W.push("/vendors/upcoming-orders"))}),[U]),Object(r.useEffect)((function(){0===q?(C(30),z("createdAt","asc","",0,10)):setTimeout((function(){C(q-1)}),1e3)}),[q]);var J=[{displayName:"Order Id",key:"orderNumber"},{displayName:"Date Time",key:"createdAt",isDateTime:!0},{displayName:"Customer Name",key:"userName"},{displayName:"Customer Number",key:"phone"},{displayName:"Order Type",key:"isSelfPickUp",isConditional:!0,positiveValue:"PickUp",negativeValue:"Delivery"},{displayName:"Payment Mode",key:"isCODOrder",isConditional:!0,positiveValue:"COD",negativeValue:"Online"},{displayName:"Order Amount",key:"grandTotal"},{displayName:"Remaining Time",key:"dateDiffMin",isCountDown:!0},{displayName:"Actions",noSort:!0,isActions:!0,actions:[{view:l.a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}),action:function(e){x(e),G(Object(m.vl)()),u(!0)}}]}];return l.a.createElement("div",{className:"wrapper wrapper-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"ibox"},l.a.createElement("div",{className:"ibox-content"},l.a.createElement("div",{className:"box-heading"},l.a.createElement("h2",null,"New Orders ")),l.a.createElement("div",{className:"coman-table",id:"owner-detail-btn2"},l.a.createElement(y.b,{headers:J,tableData:V||null,pageCount:null===L||void 0===L?void 0:L.count,getData:z,linkPropsName:"_id",setSearchFlag:function(e){f&&T(e)},errorMsg:H||"Loading...",initialSortColumnName:"createdAt",initialSortOrderBy:"asc"})))))),o&&l.a.createElement(N,{setModelOpen:u,time:v,orderData:w,tableFilter:A}),Y&&l.a.createElement(O.a,null),l.a.createElement("div",null,"Order List will be updated in ".concat(q," seconds")))})),v.a)}}]);
//# sourceMappingURL=31.6d1025fc.chunk.js.map