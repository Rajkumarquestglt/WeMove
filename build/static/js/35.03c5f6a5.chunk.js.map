{"version":3,"sources":["http/index.js","hoc/SetTokenHeader/SetTokenHeader.js","views/admin/Dashboard/Dashboard.jsx"],"names":["SetTokenInterval","Component","axios","props","useState","interceptors","request","use","config","configObject","headers","Authorization","localStorage","getItem","interceptor","useEffect","eject","SetTokenHeader","mounted","setMounted","type","setType","useSelector","state","dashboard","adminDashboard","chefCount","orderCount","orderTotal","orderTotalForToday","userCount","productCount","driverCount","promoterCount","orderCountForToday","orderCountDelivered","orderCountPending","orderCountRejected","orderCountTotal","isPromoter","errorMsg","auth","dispatch","useDispatch","getAdminDashboardSaga","jQuery","tooltip","welcomeMessage","className","id","style","padding","marginLeft","color","aria-hidden","data-toggle","data-placement","title","position","right","value","width","marginTop","onChange","e","target","moment","format"],"mappings":"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","file":"static/js/35.03c5f6a5.chunk.js","sourcesContent":["/* eslint-disable import/prefer-default-export */\r\nimport axios from './axios/axios_main';\r\n\r\nexport { axios };\r\n","import React, { useState, useEffect } from 'react';\r\n// import { AuthenticationContext } from \"../../contexts\";\r\n\r\nfunction SetTokenInterval(Component, axios) {\r\n  function WrappedComponent(props) {\r\n    // const authContext = useContext(AuthenticationContext);\r\n    const [interceptor] = useState(\r\n      axios.interceptors.request.use(config => {\r\n        const configObject = config;\r\n        configObject.headers.Authorization = `Bearer ${localStorage.getItem(\r\n          `authToken`,\r\n        )}`;\r\n        return configObject;\r\n      }),\r\n    );\r\n    useEffect(() => {\r\n      return () => {\r\n        axios.interceptors.request.eject(interceptor);\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <>\r\n        <Component {...props} />\r\n      </>\r\n    );\r\n  }\r\n  return WrappedComponent;\r\n}\r\nexport default SetTokenInterval;\r\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport moment from 'moment';\nimport jQuery from 'jquery';\nimport { axios } from '../../../http';\nimport SetTokenHeader from '../../../hoc/SetTokenHeader/SetTokenHeader';\nimport { getAdminDashboardSaga } from '../../../store/actions';\n\n// eslint-disable-next-line no-unused-vars\nconst AdminApp = props => {\n  // eslint-disable-next-line no-unused-vars\n  const [mounted, setMounted] = useState(false);\n  const [type, setType] = useState('today');\n  const {\n    adminDashboard: {\n      chefCount,\n      orderCount,\n      orderTotal,\n      orderTotalForToday,\n      userCount,\n      productCount,\n      driverCount,\n      promoterCount,\n      orderCountForToday: {\n        orderCountDelivered,\n        orderCountPending,\n        orderCountRejected,\n        orderCountTotal,\n      },\n    },\n    // eslint-disable-next-line no-unused-vars\n    errorMsg,\n  } = useSelector(state => state.dashboard);\n  const { isPromoter } = useSelector(state => state.auth);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setMounted(true);\n    dispatch(getAdminDashboardSaga({ type }));\n    jQuery('[data-toggle=\"tooltip\"]').tooltip();\n    return () => setMounted(false);\n  }, []);\n\n  useEffect(() => {\n    if (mounted) {\n      dispatch(getAdminDashboardSaga({ type }));\n    }\n  }, [type]);\n\n  const welcomeMessage = `Welcome ${isPromoter ? 'Promoter' : 'Admin'} !`;\n\n  return (\n    <div className=\"wrapper wrapper-content dashboard\" id=\"dashboard\">\n      <h2>{welcomeMessage}</h2>\n      <div className=\"row card_main\">\n        <div className=\" col-md-6 col-xs-12  col-lg-3\">\n          <div className=\"card one\">\n            <div className=\"card-content\">\n              <p className=\"title\">Total Users</p>\n              <p className=\"count\">{userCount}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6 col-xs-12 col-lg-3\">\n          <div className=\"card two\">\n            <div className=\"card-content\">\n              <p className=\"title\">Total Orders</p>\n              <p className=\"count\">{orderCount}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6 col-xs-12 col-lg-3\">\n          <div className=\"card three\">\n            <div className=\"card-content\">\n              <p className=\"title\">Total Vendors</p>\n              <p className=\"count\">{chefCount}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6 col-xs-12 col-lg-3\">\n          <div className=\"card four\">\n            <div className=\"card-content\">\n              <p className=\"title\">Total Sales</p>\n              <p className=\"count\">{`$ ${orderTotal}`}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6 col-xs-12 col-lg-3\">\n          <div className=\"card three\">\n            <div className=\"card-content\">\n              <p className=\"title\">Total Drivers</p>\n              {/* <p className=\"count\">{`$ ${orderTotal}`}</p> */}\n              <p className=\"count\">{driverCount}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6 col-xs-12 col-lg-3\">\n          <div className=\"card four\">\n            <div className=\"card-content\">\n              <p className=\"title\">Total Products</p>\n              {/* <p className=\"count\">{`$ ${orderTotal}`}</p> */}\n              <p className=\"count\">{productCount}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6 col-xs-12 col-lg-3\">\n          <div className=\"card one\">\n            <div className=\"card-content\">\n              <p className=\"title\">Total Promoters</p>\n              {/* <p className=\"count\">{`$ ${orderTotal}`}</p> */}\n              <p className=\"count\">{promoterCount}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-sm-12 col-xs-12\">\n          <div className=\"top_action\">\n            <div className=\"col-xs-12 col pull-left\" style={{ padding: 0 }}>\n              <h2 className=\"dashbordstat\">\n                {`${type}'s Statistics`}\n                <i\n                  className=\"fa fa-info-circle\"\n                  style={{ marginLeft: 5, color: '#404E67' }}\n                  aria-hidden=\"true\"\n                  data-toggle=\"tooltip\"\n                  data-placement=\"top\"\n                  title=\"You can check your today, week and month order detail by using this filter\"\n                />\n              </h2>\n              <div style={{ position: 'absolute', right: 0 }}>\n                <select\n                  className=\"form-control\"\n                  value={type}\n                  style={{ width: 100, marginTop: -29 }}\n                  onChange={e => setType(e.target.value)}\n                >\n                  <option value=\"today\">Today</option>\n                  <option value=\"week\">Weekly</option>\n                  <option value=\"month\">Monthly</option>\n                </select>\n              </div>\n              {type === 'today' && (\n                <h5>{moment().format('dddd, MMMM DD, yyyy')}</h5>\n              )}\n              {type === 'week' && <h5>Current week</h5>}\n              {type === 'month' && <h5>Current month</h5>}\n            </div>\n          </div>\n          <div className=\"table-responsive\">\n            <table id=\"today\" className=\"table table-striped table-bordered\">\n              <tbody>\n                <tr>\n                  <td>\n                    {type === 'today' && \"Today's \"}\n                    Total Orders\n                  </td>\n                  <td>{orderCountTotal}</td>\n                </tr>\n                <tr>\n                  <td>\n                    {type === 'today' && \"Today's \"}\n                    Sales\n                  </td>\n                  <td>{`USD ${orderTotalForToday}`}</td>\n                </tr>\n                <tr>\n                  <td>\n                    {type === 'today' && \"Today's \"}\n                    Pending Orders\n                  </td>\n                  <td>{orderCountPending}</td>\n                </tr>\n                <tr>\n                  <td>\n                    {type === 'today' && \"Today's \"}\n                    Delivered Orders\n                  </td>\n                  <td>{orderCountDelivered}</td>\n                </tr>\n                <tr>\n                  <td>\n                    {type === 'today' && \"Today's \"}\n                    Rejected Orders\n                  </td>\n                  <td>{orderCountRejected}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SetTokenHeader(AdminApp, axios);\n"],"sourceRoot":""}