(this["webpackJsonpwetaxi-market-place"]=this["webpackJsonpwetaxi-market-place"]||[]).push([[67],{279:function(e,a,t){"use strict";var l=t(6);t.d(a,"a",(function(){return l.a}))},280:function(e,a,t){"use strict";var l=t(17),n=t(5),c=t.n(n);a.a=function(e,a){return function(t){var r=Object(n.useState)(a.interceptors.request.use((function(e){var a=e;return a.headers.Authorization="Bearer ".concat(localStorage.getItem("authToken")),a}))),i=Object(l.a)(r,1)[0];return Object(n.useEffect)((function(){return function(){a.interceptors.request.eject(i)}}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(e,t))}}},282:function(e,a,t){"use strict";var l=t(5),n=t.n(l),c=t(44),r=t(37),i=t(1);a.a=function(e){var a=Object(r.c)((function(e){return e.modal})),t=a.message,l=a.notifyType,s=a.redirectURL,m=a.buttonClick,o=a.withButton,d=Object(r.b)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"modal-backdrop fade in error-modal-backdrop"}),n.a.createElement("div",{className:"modal coman-modal fade in error-modal",id:"add-cat",tabIndex:-1,role:"dialog","aria-labelledby":"myModalLabel",style:{display:"block",zIndex:2052}},n.a.createElement("div",{className:"modal-dialog modal-a",role:"document"},n.a.createElement("div",{className:2===l||0===l?"modal-content text-center animated bounceIn":"modal-content text-center animated shake"}," ",n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"f-modal-alert"},1===l?n.a.createElement("div",{className:"f-modal-icon f-modal-error animate"},n.a.createElement("span",{className:"f-modal-x-mark"},n.a.createElement("span",{className:"f-modal-line f-modal-left animateXLeft"}),n.a.createElement("span",{className:"f-modal-line f-modal-right animateXRight"})),n.a.createElement("div",{className:"f-modal-placeholder"}),n.a.createElement("div",{className:"f-modal-fix"})):2===l?n.a.createElement("div",{className:"f-modal-icon f-modal-success animate"},n.a.createElement("span",{className:"f-modal-line f-modal-tip animateSuccessTip"}),n.a.createElement("span",{className:"f-modal-line f-modal-long animateSuccessLong"}),n.a.createElement("div",{className:"f-modal-placeholder"}),n.a.createElement("div",{className:"f-modal-fix"})):3===l?n.a.createElement("div",{className:"f-modal-icon f-modal-warning animate"},n.a.createElement("span",{className:"f-modal-body pulseWarningIns"}),n.a.createElement("span",{className:"f-modal-dot pulseWarningIns"}),n.a.createElement("div",{className:"f-modal-placeholder"}),n.a.createElement("div",{className:"f-modal-fix"})):null),n.a.createElement("p",{style:0===l?{paddingTop:"20px"}:{}},t),o&&n.a.createElement("div",{className:"text-center m-t-md"},void 0!==s&&""!==s?n.a.createElement(c.b,{className:"btn btn-primary",to:s,onClick:m?function(e){d(Object(i.Sk)()),e.stopPropagation(),m()}:function(e){d(Object(i.Sk)()),e.stopPropagation()}},"Okay"):n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:m?function(e){d(Object(i.Sk)()),e.stopPropagation(),m()}:function(e){d(Object(i.Sk)()),e.stopPropagation()}},"Okay")))))))}},285:function(e,a,t){"use strict";var l=t(5),n=t.n(l);a.a=function(e){var a=e.headerTitle,t=e.children,l=e.submitBtnText,c=e.submitBtnHandler,r=e.cancelBtnText,i=e.cancelBtnHandler,s=e.closeModel,m=e.modalId,o=e.modalClass,d=e.errorMsg,u=e.isDisable;return n.a.createElement("div",{className:"modal coman-modal fade in",tabIndex:"-1",id:m||"",role:"dialog",style:{display:"block"}},n.a.createElement("div",{className:"modal-dialog ".concat(o||"modal-sm text-center"),role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("button",{type:"button",className:"close",disabled:u,onClick:s},n.a.createElement("span",{"aria-hidden":"true"},"\xd7")),(void 0!==a||null!=a||""!==a)&&n.a.createElement("h2",null,a),t,n.a.createElement("div",{className:"error-message"},d),n.a.createElement("div",{className:"text-center"},void 0!==l&&null!=l&&""!==l&&n.a.createElement("button",{type:"button",disabled:u,className:"btn btn-primary  m-l-sm",onClick:function(){"function"===typeof c?c():s()}},l),void 0!==r&&null!=r&&""!==r&&n.a.createElement("button",{type:"submit",disabled:u,className:"btn btn-primary m-l-sm",onClick:function(){"function"===typeof i&&i(),s()}},"Cancel")))),n.a.createElement("div",{className:"modal-backdrop fade in"}))}},850:function(e,a){},929:function(e,a,t){"use strict";t.r(a);var l=t(3),n=t(17),c=t(5),r=t.n(c),i=t(37),s=t(831),m=t.n(s),o=t(854),d=t(138),u=t(408),E=t.n(u),p=(t(354),t(45)),b=t.n(p),v=t(280),f=t(279),N=t(94),y=t(853),O=t(285),g=function(e){var a=e.orderData,t=Object(c.useState)(a.cookingInstructionsByAdmin),l=Object(n.a)(t,1)[0],i=[],s=[],m=Object(c.useRef)(),o=function(e,a){if(e){var t=e.apartment,l=e.area,n=e.city,c=e.houseNo,r=e.landmark,i=e.pincode,s=e.street;c&&a.push(c),t&&a.push(t),r&&a.push(r),l&&a.push(l),n&&a.push(n),s&&a.push(s),i&&a.push(i)}};o(a.restaurantAddress,i),o(a.orderDeliverAddress,s);var d=Object(y.useReactToPrint)({content:function(){return m.current},pageStyle:"margin: 40px",documentTitle:"Invoice"});return r.a.createElement(O.a,{closeModel:function(){(0,e.setModelOpen)(!1)},headerTitle:"Order Details",modalId:"printpreview",modalClass:"modal-small",cancelBtnText:"Add",submitBtnText:"Print",submitBtnHandler:d},r.a.createElement("div",{ref:m},r.a.createElement("div",{className:"printview-order",id:"printableArea"},r.a.createElement("div",{className:"printview-order-inner"},r.a.createElement("table",{className:"table",style:{marginBottom:0}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{paddingLeft:0}},r.a.createElement("p",null,"Invoice Number:")),r.a.createElement("td",{colSpan:3,style:{textAlign:"left"}},r.a.createElement("b",null,r.a.createElement("span",null,a.orderNumber)))))))),r.a.createElement("div",{className:"printview-order",id:"printableArea"},r.a.createElement("div",{className:"printview-order-inner"},r.a.createElement("h3",{className:"sub_title"},"Customer Details"),r.a.createElement("table",{className:"table",style:{marginBottom:2}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Full Name :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,a.userData.name)))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Address :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,s.join(", ")))))))),r.a.createElement("div",{className:"printview-order-inner"},r.a.createElement("h3",{className:"sub_title"},"Vendor Details"),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Full Name :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,a.restaurantName)))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Mobile :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,a.retsaurantContact)))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Address :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,i.join(", ")))))))),r.a.createElement("div",{className:"printview-order-inner order_details"},r.a.createElement("h3",{className:"sub_title"},"Order Details"),r.a.createElement("table",{className:"table "},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Order Date :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,b()(a.createdAt).format("DD/MM/YYYY hh:mm A "))))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Order Type :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,a.isSelfPickUp?"PickUp":"Delivery")))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Payment Option :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,a.isCODOrder?"COD":"Online")))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Payment Status :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,a.paymentStatus)))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Customer Comments :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,a.cookingInstructions||"-")))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"Admin Comments :")),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement("p",null,l||"-"))))))),r.a.createElement("div",{className:"overallTable table-responsive "},r.a.createElement("table",{className:"table table-striped table-bordered",id:"order-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"S.No."),r.a.createElement("th",null,"Item Name"),r.a.createElement("th",null,"Qty"),r.a.createElement("th",null,"Price (INR)"),r.a.createElement("th",null,"Variety - Price (INR)"))),r.a.createElement("tbody",null,a.dishList.map((function(e,a){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"s_no"},a+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.price.toFixed(2)),r.a.createElement("td",{className:"ing"},r.a.createElement("ul",{className:"tbl_view"},r.a.createElement("li",null,r.a.createElement("span",{className:"td lbl"},"INR ".concat((e.quantity*e.price).toFixed(2)))))))})),r.a.createElement("tr",{className:"total_box"},r.a.createElement("td",{colSpan:4}),r.a.createElement("td",null,r.a.createElement("ul",{className:"tbl_view"},r.a.createElement("li",null,r.a.createElement("span",{className:"td"},"Subtotal"),r.a.createElement("span",{className:"td lbl"},"INR ".concat(a.total.toFixed(2)))),r.a.createElement("li",null,r.a.createElement("span",{className:"td"},"Discount "),r.a.createElement("span",{className:"td lbl"},"INR ".concat(a.discount.toFixed(2)))),r.a.createElement("li",null,r.a.createElement("span",{className:"td"},"Rider Tip"),r.a.createElement("span",{className:"td lbl"},"INR ".concat(a.riderTip.toFixed(2)))),r.a.createElement("li",null,r.a.createElement("span",{className:"td"},"Tax (".concat(a.GST,"%)")),r.a.createElement("span",{className:"td lbl"},"INR ".concat(a.taxCharge.toFixed(2)))),r.a.createElement("li",null,r.a.createElement("span",{className:"td"},"Delivery Fee"),r.a.createElement("span",{className:"td lbl"},"INR ".concat(a.deliveryCharge.toFixed(2)))),r.a.createElement("li",null,r.a.createElement("span",{className:"td"},"Packaging Fee"),r.a.createElement("span",{className:"td lbl"},"INR ".concat(a.packagingCharge.toFixed(2)))),r.a.createElement("li",null,r.a.createElement("span",{className:"td"},"Total"),r.a.createElement("span",{className:"td lbl"},"INR ".concat(a.grandTotal.toFixed(2)," "))))))))))))},h=t(1),k=["Pending","Accepted","Preparing","ReadyForPickup","OnTheWayToPickUp","PickedUp","OnTheWayToDelivery","Delivered"],j=function(e){var a=e.orderData,t=e.tableFilter,l=Object(c.useState)(""),s=Object(n.a)(l,2),m=s[0],o=s[1],d=Object(c.useState)(45),u=Object(n.a)(d,2),E=u[0],p=u[1],v=Object(c.useState)(!1),f=Object(n.a)(v,2),N=f[0],y=f[1],g=Object(c.useState)(!1),j=Object(n.a)(g,2),D=(j[0],j[1]),P=Object(i.c)((function(e){return e.order})),S=P.orderTrack,x=(P.errorMsg,k.indexOf(S.status)),C=Object(i.b)();Object(c.useEffect)((function(){return D(!0),C(Object(h.Wj)({id:a._id})),7!==x&&setTimeout((function(){p(E-1)}),1e3),function(){D(!1),C(Object(h.zl)())}}),[]),Object(c.useEffect)((function(){0===E?(p(45),C(Object(h.Wj)({id:a._id}))):7!==x&&setTimeout((function(){p(E-1)}),1e3)}),[E]);var T=function(){(0,e.setModelOpen)(!1)};"Accepted"!==S.status&&"Preparing"!==S.status&&"ReadyForPickup"!==S.status&&"OnTheWayToPickUp"!==S.status||N||("Accepted"===S.status&&(o("Preparing"),y(!0)),"Preparing"===S.status&&(o("Ready for Pickup"),y(!0)),"ReadyForPickup"===S.status&&S.isSelfPickUp&&(o("Delivered"),y(!0)));return r.a.createElement(O.a,{closeModel:T,headerTitle:"Tracking Order",modalId:"trackDeliveryBoy",modalClass:"modal-lg"},m&&r.a.createElement("div",{className:"printview-order-inner m-b-md"},r.a.createElement("button",{type:"button",style:{width:"150px"},id:"printdel",className:"btn printleft btn-primary",onClick:function(){return"Preparing"===m&&C(Object(h.We)({status:"Preparing",id:S._id,closeModel:T,tableFilter:t})),"Ready for Pickup"===m&&C(Object(h.We)({status:"ReadyForPickup",id:S._id,closeModel:T,tableFilter:t})),void("Delivered"===m&&C(Object(h.We)({status:"Delivered",id:S._id,closeModel:T,tableFilter:t})))}},m)),r.a.createElement("div",{style:{marginTop:"0px"}},r.a.createElement("div",{className:"form_header"},r.a.createElement("h1",null,"Order Information:")),r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},r.a.createElement("div",{className:"detail-title-a"},r.a.createElement("p",null,r.a.createElement("span",null," Order Number:"),a.orderNumber),r.a.createElement("p",null,r.a.createElement("span",null,"Order Date: "),b()(a.createdAt).format("DD/MM/YYYY")))),r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},r.a.createElement("div",{className:"detail-title-a"},r.a.createElement("p",null,r.a.createElement("span",null,"Order Time:"),b()(a.createdAt).format("hh:mm A")),r.a.createElement("p",null,r.a.createElement("span",null,"Order Total: "),a.total))))),r.a.createElement("div",{className:"form_header"},r.a.createElement("h1",null,"Order Tracking")),7!==x&&r.a.createElement("div",null,"Status will be update in ".concat(E," seconds")),r.a.createElement("div",{className:"kyc-top-bar clearfix"},r.a.createElement("ul",null,r.a.createElement("li",{className:x>=0?"current":""},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"icon ic-3"},r.a.createElement("i",{className:"fa fa-download","aria-hidden":"true"}))),r.a.createElement("p",null,"Pending")),r.a.createElement("li",{className:x>=1?"current":""},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"icon ic-3"},r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}))),r.a.createElement("p",null,"Accepted")),r.a.createElement("li",{className:x>=2?"current":""},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"icon ic-3"},r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}))),r.a.createElement("p",null,"Preparing")),r.a.createElement("li",{className:x>=3?"current":""},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"icon ic-3"},r.a.createElement("i",{className:"fa fa-motorcycle","aria-hidden":"true"}))),r.a.createElement("p",null,"Ready for Pickup")),!a.isSelfPickUp&&r.a.createElement("li",{className:x>=4?"current":""},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"icon ic-3"},r.a.createElement("i",{className:"fa fa-motorcycle","aria-hidden":"true"}))),r.a.createElement("p",null,"On the way to Pick up")),!a.isSelfPickUp&&r.a.createElement("li",{className:x>=5?"current":""},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"icon ic-3"},r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}))),r.a.createElement("p",null,"Picked up")),!a.isSelfPickUp&&r.a.createElement("li",{className:x>=6?"current":""},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"icon ic-3"},r.a.createElement("i",{className:"fa fa-motorcycle","aria-hidden":"true"}))),r.a.createElement("p",null,"On the way to Delivey")),r.a.createElement("li",{className:x>=7?"current":""},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"icon ic-3"},r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}))),r.a.createElement("p",null,"Delivered")))),r.a.createElement("div",{className:"track_ship_flow"}))},D=t(282),P=t(4),S=t.n(P),x=t(97),C=t(13),T=Object(v.a)(Object(C.h)((function(e){var a=Object(c.useState)(!1),t=Object(n.a)(a,2),l=t[0],i=t[1],s=Object(c.useState)(null),m=Object(n.a)(s,2),o=m[0],d=m[1],u=Object(c.useState)(""),E=Object(n.a)(u,2),p=E[0],b=E[1],v=Object(c.useState)(!1),N=Object(n.a)(v,2),y=N[0],g=N[1];console.log(o);var h=function(){var e=Object(x.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://15.206.206.131:3000/driver/vehicleList");case 3:200===(a=e.sent).status?(console.log(a.data),d(a.data.data.list)):d([]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d([]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return l||h(),i(!0),function(){i(!1)}}),[]);var k=function(){(0,e.setModelOpen)(!1)};return r.a.createElement(O.a,{closeModel:k,headerTitle:"Vehicle Type",modalId:"trackDeliveryBoy",modalClass:"modal-sm"},null!==o?r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{className:"form-control",onChange:function(e){return b(e.target.value)}},r.a.createElement("option",{value:""},"Select Vehicle Type"),o.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.type)}))),r.a.createElement("div",{className:"error-message"},y&&"Please select vehicle type"),r.a.createElement("div",{className:"col-12 text-center",style:{marginTop:10}},r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){""!==p?(g(!1),(0,e.searchCardRequestEvent)(p),k()):g(!0)}},"Submit"))):r.a.createElement("div",{className:"col-12 text-center"},"Loading..."))})),f.a);a.default=Object(v.a)((function(e){var a=Object(c.useState)(!1),t=Object(n.a)(a,2),s=t[0],u=t[1],p=Object(c.useState)(!1),v=Object(n.a)(p,2),f=v[0],y=v[1],O=Object(c.useState)(!1),k=Object(n.a)(O,2),P=k[0],S=k[1],x=Object(c.useState)(!1),C=Object(n.a)(x,2),A=C[0],w=C[1],R=Object(c.useState)(null),I=Object(n.a)(R,2),F=I[0],M=I[1],_=Object(c.useState)(!1),U=Object(n.a)(_,2),B=(U[0],U[1]),L=Object(c.useState)(!1),W=Object(n.a)(L,2),V=W[0],q=W[1],Y=Object(c.useState)(null),z=Object(n.a)(Y,2),J=z[0],H=z[1],X=Object(c.useState)({}),G=Object(n.a)(X,2),K=G[0],Q=G[1],Z=Object(c.useState)({isSelfPickUp:"",status:"",startDate:"",endDate:""}),$=Object(n.a)(Z,2),ee=$[0],ae=$[1],te=Object(c.useCallback)((function(){return q(!V)})),le=Object(i.c)((function(e){return e.order})),ne=le.orders,ce=ne.list,re=ne.totalRecords,ie=le.orderCount,se=ie.acceptedOrderCount,me=ie.deliveredOrderCount,oe=ie.preparingOrderCount,de=ie.pendingOrderCount,ue=ie.pickedUpOrderCount,Ee=ie.rejectedOrderCount,pe=ie.totalOrderCount,be=le.errorMsg,ve=Object(i.c)((function(e){return e.modal})).open,fe=Object(c.useRef)(),Ne=Object(c.useRef)(),ye=Object(i.b)(),Oe=function(e,a,t,l,n){!function(e,a,t,l,n){K.columnName=e,K.orderBy=a,K.search=t,K.skip=l,K.limit=n,Q(K)}(e,a,t,l,n),ye(t&&0!==l?Object(h.eh)({columnName:e,orderBy:a,search:t,skip:0,limit:n,filterSearch:ee}):Object(h.eh)({columnName:e,orderBy:a,search:t,skip:l,limit:n,filterSearch:ee}))};Object(c.useEffect)((function(){return w(!0),ye(Object(h.Tj)()),Oe("createdAt","desc","",0,10),function(){ye(Object(h.Al)()),w(!1)}}),[]);Object(c.useEffect)((function(){A&&""===ee.status&&""===ee.isSelfPickUp&&""===ee.startDate&&""===ee.endDate&&Oe("createdAt","desc","",0,10)}),[ee]);var ge=[{displayName:"Order Number",key:"orderNumber"},{displayName:"Date Time",key:"createdAt",isDateTime:!0},{displayName:"Customer Name",key:"userName"},{displayName:"Customer Number",key:"phone"},{displayName:"Order Type",key:"isSelfPickUp",isConditional:!0,positiveValue:"PickUp",negativeValue:"Delivery"},{displayName:"Payment Mode",key:"isCODOrder",isConditional:!0,positiveValue:"COD",negativeValue:"Online"},{displayName:"Order Status",key:"status",isCapitalize:!0},{displayName:"Order Amount",key:"grandTotal"},{displayName:"Actions",noSort:!0,isActions:!0,actions:[{view:r.a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}),action:function(e){M(e),u(!0)}},{view:r.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"}),action:function(e){M(e),y(!0)},conditionalKey:"status",conditionalValue:"Rejected"},{view:function(e){var a=e.status,t=e.isSelfPickUp;return r.a.createElement("i",{className:"fa fa-truck ".concat("ReadyForPickup"!==a||t?"disable-click":""),"aria-hidden":"true"})},action:function(e){M(e),S(!0)}}]}],he=function(e,a){var t=Object(l.a)({},ee);t[a]=e,ae(t)};return r.a.createElement("div",{className:"wrapper wrapper-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},r.a.createElement("div",{className:"ibox"},r.a.createElement("div",{className:"ibox-content"},r.a.createElement("div",{className:"box-heading"},r.a.createElement("h2",null,"Orders ")),r.a.createElement("div",{className:"row m-b-sm"},r.a.createElement("div",{className:"col-xs-12 col-sm-6 col-lg-2"},r.a.createElement("h4",null,"Order type:"),r.a.createElement("select",{className:"form-control ",onChange:function(e){return he(e.target.value,"isSelfPickUp")},value:ee.isSelfPickUp},r.a.createElement("option",{value:""},"Select order Type"),r.a.createElement("option",{value:"false"},"Delivery"),r.a.createElement("option",{value:"true"},"Pick Up"))),r.a.createElement("div",{className:"col-xs-12 col-sm-6 col-lg-2"},r.a.createElement("h4",null,"Order status:"),r.a.createElement("select",{className:"form-control",onChange:function(e){return he(e.target.value,"status")},value:ee.status},r.a.createElement("option",{value:""},"Select order status"),r.a.createElement("option",{value:"Pending"},"Pending"),r.a.createElement("option",{value:"Accepted"},"Accepted"),r.a.createElement("option",{value:"Rejected"},"Rejected"),r.a.createElement("option",{value:"Preparing"},"Preparing"),r.a.createElement("option",{value:"ReadyForPickup"},"Ready for pickup"),r.a.createElement("option",{value:"OnTheWayToPickUp"},"On the way to pickup"),r.a.createElement("option",{value:"PickedUp"},"PickedUp"),r.a.createElement("option",{value:"OnTheWayToDelivery"},"On the way to delivery"),r.a.createElement("option",{value:"Delivered"},"Delivered"),r.a.createElement("option",{value:"Canceled"},"Cancelled"))),r.a.createElement("div",{className:"col-sm-12 col-lg-8"},r.a.createElement("h4",null,"Select Date:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-8 col-lg-8"},V?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-backdrop fade in date-backdrop",onClick:function(){te()}}),r.a.createElement(E.a,{initialRange:(b()(),b()().add(2,"days")),value:J,onSelect:function(e){H(e),he(e.start.format("yyyy-MM-DD"),"startDate"),he(e.end.format("yyyy-MM-DD"),"endDate"),te()}})):"",r.a.createElement("div",{className:"mb-10",id:"data_5"},r.a.createElement("div",{className:"input-daterange input-group",id:"datepicker"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-calendar"})),r.a.createElement("input",{type:"text",className:"input-sm form-control",name:"start",value:J&&null!=J.start&&J.start.format("DD/MM/yyyy")||"",onClick:function(e){te(),e.target.blur()}}),r.a.createElement("span",{className:"input-group-addon bor-left"},"to"),r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-calendar"})),r.a.createElement("input",{type:"text",className:"input-sm form-control",name:"end",value:J&&null!=J.end&&J.end.format("DD/MM/yyyy")||"",onClick:function(e){te(),e.target.blur()}})))),r.a.createElement("div",{className:"col-xs-6 col-sm-2 col-lg-2"},r.a.createElement("button",{className:"btn btn-primary with-100",type:"submit",onClick:function(){Oe("createdAt","desc","",0,10),fe.current.setCurrentPageChild()}},"Apply")),r.a.createElement("div",{className:"col-xs-6 col-sm-2 col-lg-2"},r.a.createElement("button",{className:"btn btn-primary with-100",type:"submit",style:{background:"#80bbe7",borderColor:"#80bbe7"},onClick:function(){ae({isSelfPickUp:"",status:"",startDate:"",endDate:""}),H({}),fe.current.setCurrentPageChild()}},"Reset"))))),r.a.createElement("div",{id:"color"},r.a.createElement("div",{className:"colours_action"},r.a.createElement("ul",{className:"animated zoomIn"},r.a.createElement("li",null,r.a.createElement("div",{className:"icons-circle-number orange"},de),r.a.createElement("h4",null,"Pending")),r.a.createElement("li",null,r.a.createElement("div",{className:"icons-circle-number dark-green"},se),r.a.createElement("h4",null,"Accepted")),r.a.createElement("li",null,r.a.createElement("div",{className:"icons-circle-number violet"},oe),r.a.createElement("h4",null,"Preparing")),r.a.createElement("li",null,r.a.createElement("div",{className:"icons-circle-number orange"},me),r.a.createElement("h4",null,"Delivered")),r.a.createElement("li",null,r.a.createElement("div",{className:"icons-circle-number dark-green"},Ee),r.a.createElement("h4",null,"Rejected")),r.a.createElement("li",null,r.a.createElement("div",{className:"icons-circle-number violet"},ue),r.a.createElement("h4",null,"Picked up")),r.a.createElement("li",null,r.a.createElement("div",{className:"icons-circle-number green"},pe),r.a.createElement("h4",null,"Total"))))),r.a.createElement("div",{className:"coman-table",id:"owner-detail-btn2"},r.a.createElement(N.b,{headers:ge,tableData:ce||null,pageCount:null===re||void 0===re?void 0:re.count,getData:Oe,linkPropsName:"_id",setSearchFlag:function(e){A&&B(e)},errorMsg:be||"Loading...",ref:fe,initialSortColumnName:"createdAt",initialSortOrderBy:"desc"})))))),s&&r.a.createElement(g,{setModelOpen:u,orderData:F}),f&&r.a.createElement(j,{setModelOpen:y,orderData:F,tableFilter:K}),P&&r.a.createElement(T,{setModelOpen:S,orderData:F,searchCardRequestEvent:function(e){var a,t,l;if("ReadyForPickup"===F.status){var n=localStorage.getItem("socketToken"),c=JSON.parse(localStorage.getItem("userData")),r={latitude:(null===(a=c.chefDetails)||void 0===a?void 0:a.lat)?parseFloat(c.chefDetails.lat):"",longitude:(null===(t=c.chefDetails)||void 0===t?void 0:t.long)?parseFloat(null===(l=c.chefDetails)||void 0===l?void 0:l.long):""};Ne.current=m()("http://3.21.49.79:6025",{query:"token=".concat(n),transports:["websocket"]}),Ne.current.on("connect",(function(){var a,t,l,n;console.log(Ne.current.connected);var c=Object(o.point)([r.longitude,r.latitude]),i=Object(o.point)([null===(a=F.orderDeliverAddress)||void 0===a?void 0:a.longitude,null===(t=F.orderDeliverAddress)||void 0===t?void 0:t.latitude]),s=Object(o.distance)(c,i);Ne.current.emit("search-car-on-request-ride",{lat:r.latitude,long:r.longitude,pickupAddress:JSON.stringify(F.restaurantAddress),destinationAddress:JSON.stringify(F.orderDeliverAddress),destinationLat:null===(l=F.orderDeliverAddress)||void 0===l?void 0:l.latitude,destinationLong:null===(n=F.orderDeliverAddress)||void 0===n?void 0:n.longitude,totalDistance:"".concat(s," km"),vehicleId:e,orderId:F._id},(function(e){console.log(e.status),200===e.status?Object(d.b)(e.message,{position:"top-center",hideProgressBar:!0,containerId:"appLayoutToaster",type:"success",autoClose:3500}):Object(d.b)(e.message,{position:"top-center",hideProgressBar:!0,containerId:"appLayoutToaster",type:"error",autoClose:3500})}))}))}}}),ve&&r.a.createElement(D.a,null))}),f.a)}}]);
//# sourceMappingURL=67.3223965a.chunk.js.map